{% extends "base.html" %}
{% load i18n %}
{% load templateforms %}

{% block meta_description %}{{ title }}{% endblock meta_description %}
{% block head_title %}- {{ title }}{% endblock head_title %}

{% block content %}
  <section class="row">
    <div class="col s12 m8 offset-m2">
      <div class="card-flat">
        <h1 class="text-header">{{ title }}</h1>

        {% if validlink %}
          <p>{% trans "Por favor, introduzca su contraseña nueva dos veces para verificar que la ha escrito correctamente." %}</p>

          <form method="post" action="">
            {% csrf_token %}

            <section class="row">
              <div class="input-field col s12">
                <input id="id_new_password1" class="validate" name="new_password1" type="password" required>
                <label for="id_new_password1">{% trans "Contraseña nueva" %}</label>
                {{ form.new_password1.errors }}
              </div>
            </section>

            <section class="row">
              <div class="input-field col s12">
                <input id="id_new_password2" class="validate" name="new_password2" type="password" required>
                <label for="id_new_password2">{% trans "Confirme contraseña" %}</label>
                {{ form.new_password2.errors }}
              </div>
            </section>

            <button class="btn btn-flat-primary waves-effect" type="submit">{% trans "Cambiar mi contraseña" %}</button>
          </form>
        {% else %}
          <p>{% trans "El enlace de restablecimiento de contraseña era inválido, seguramente porque se haya usado antes. Por favor, solicite un nuevo restablecimiento de contraseña." %}</p>
        {% endif %}
      </div>
    </div>
  </section>
{% endblock content %}
